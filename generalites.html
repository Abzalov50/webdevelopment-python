
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Généralités sur la programmation web en Python &#8212; Développement Web avec Python</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Introduction au développement front-end avec HTML &amp; CSS" href="html-css.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Développement Web avec Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1 current active">
                <a class="reference internal" href="#">
                    Généralités sur la programmation web en Python
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="html-css.html">
   Introduction au développement front-end avec HTML &amp; CSS
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="intro-django.html">
   Rendre le Web dynamique grâce au développement côté serveur avec Django
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="postgresql.html">
   Introduction à PostgreSQL
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="projet.html">
   Projet : Application Web d’ajout d’avis pour les films
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/generalites.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/executablebooks/jupyter-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fgeneralites.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/generalites.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download notebook file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        <a href="_sources/generalites.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#permettez-moi-de-vous-introduire-au-web">
   Permettez-moi de vous introduire au Web
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mais-quelle-est-la-difference-entre-internet-et-web">
   Mais, quelle est la différence entre Internet et Web ?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#revenons-plus-en-detail-sur-l-architecture-client-serveur">
   Revenons plus en détail sur l’architecture Client/Serveur
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#les-sockets-python">
   Les sockets Python
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#le-programme-serveur">
     Le programme serveur
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#le-programme-client">
     Le programme client
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Généralités sur la programmation web en Python</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#permettez-moi-de-vous-introduire-au-web">
   Permettez-moi de vous introduire au Web
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mais-quelle-est-la-difference-entre-internet-et-web">
   Mais, quelle est la différence entre Internet et Web ?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#revenons-plus-en-detail-sur-l-architecture-client-serveur">
   Revenons plus en détail sur l’architecture Client/Serveur
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#les-sockets-python">
   Les sockets Python
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#le-programme-serveur">
     Le programme serveur
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#le-programme-client">
     Le programme client
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="generalites-sur-la-programmation-web-en-python">
<span id="chap1"></span><h1>Généralités sur la programmation web en Python<a class="headerlink" href="#generalites-sur-la-programmation-web-en-python" title="Permalink to this headline">#</a></h1>
<section id="permettez-moi-de-vous-introduire-au-web">
<h2>Permettez-moi de vous introduire au Web<a class="headerlink" href="#permettez-moi-de-vous-introduire-au-web" title="Permalink to this headline">#</a></h2>
<p>Le <strong>Web</strong> (ou <strong>World-Wide Web</strong> ou <strong>WWW</strong> ou <strong>W3</strong>) est un système né vers 1990. Il a été développé par Tim Berners-Lee, initialement pour <em>faciliter la collaboration entre les membres de la communauté de Physique des Hautes Energies</em>. Il devait permettre un échange efficace d’information. La même information (en forme et fond) devait être accessible par tous les membres utilisant différents appareils.</p>
<p>Tim développa 3 technologies afin de supporter son concept de Web :</p>
<ul class="simple">
<li><p><strong>HTML</strong> (HyperText Markup Language): Langage de formatage de texte pour le Web.</p></li>
<li><p><strong>URL</strong> (Uniform Resource Identifier): Adresse unique identifiant chaque ressource sur le Web. L’URI est communément appelé URL, même si on pourrait faire une nuance entre les deux.</p></li>
<li><p><strong>HTTP</strong> (HyperText Transfer Protocol): Protocole d’échange de documents sur le Web.</p></li>
</ul>
<p>Le concept était tellement général qu’il a pu être étendu à travers Internet. Aujourd’hui, tout le monde utilise le Web. Tous les sites internet sont accessibles via le Web. <br>
Dans la pratique, <em>si vous voulez accéder à une ressource sur le Web (un site web, par exemple), il faut que vous ayez accès à une architecture</em> <em><strong>client-serveur</strong></em> :</p>
<blockquote>
<div><p>Le client reçoit votre requête, la transmet au serveur. Le serveur traite cette requête, et envoie une réponse au client, à laquelle vous avez directement accès. Le client avec lequel vous interagirez le plus souvent est le navigateur internet (tel que Google Chrome, Mozilla Firefox, Safari, Microsoft Edge,…). Par conséquent, vous avez accès au Web à partir de tout appareil qui dispose d’un navigateur internet (PC, Mac, Smartphone, Tablette,…).</p>
</div></blockquote>
<p>En 1999, le concept de <strong>Web 2.0</strong> a été introduit par Darcy DiNucci, et rendu populaire par Tim O’Reilly et Dale Doughtery. *<strong>La principale fonctionnalité du Web 2.0 est la possibilité offerte à l’utilisateur de contribuer en modifiant ou en ajoutant du contenu au site Web existant, plutôt que de juste consulter</strong>. (Facebook est un exemple d’application de cette fonctionnalité). Ici, on passe de la notion de “<strong>site Web</strong>” à la notion d’<strong>application Web</strong>. Application parce que l’utilisateur peut contribuer au développement, à travers l’ajout de contenu (réseaux sociaux, wikis, forums,…) et à travers les infos générées par ma simple navigation (e-commerce).</p>
<p>Une <em><strong>application mobile</strong></em> est un logiciel développé pour un appareil électronique mobile, tel que le PDA, le smartphone, la tablette,… L’application mobile est donc intimement liée au système d’exploitation du mobile (Android, iOS, Windows Phone, Blackberry OS, Chrome OS, etc.). On dit “application Android”, “application iOS”, etc.</p>
<p>Le Web est accessible via les appareils mobiles ; il suffit d’avoir une application client, telle que Firefox. C’est cette possibilité d’accéder au Web à partir de tout type d’appareils électroniques (mobile et PC), qui lui confère toute sa puissance.</p>
<blockquote>
<div><p>Avec le Web 2.0, les applications Web sont tout aussi (voire plus) puissantes que les applications Mobile.</p>
</div></blockquote>
</section>
<section id="mais-quelle-est-la-difference-entre-internet-et-web">
<h2>Mais, quelle est la différence entre Internet et Web ?<a class="headerlink" href="#mais-quelle-est-la-difference-entre-internet-et-web" title="Permalink to this headline">#</a></h2>
<p><strong>Internet</strong> est un ensemble d’ordinateurs et d’autres appareils électroniques interconnectés de diverses manières, notamment via les fils de cuivre, la fibre optique et les communications sans fil (WiFi).</p>
<p>Internet est né à la fin des années 60, donc bien avant le Web. Il s’appelait d’abord <strong>ARPANET</strong>, c’est-à-dire <em><strong>réseau d’ARPA</strong></em>. ARPA (Advanced Research Projects Agency, US) a développé Internet dans le but de fournir une <em>interconnexion sécurisé</em> à l’armée américaine, en cas de guerre nucléaire. Initialement développé pour un ensemble restreint d’équipements, Internet est aujourd’hui utlisé à travers le monde et connecte des millions de machines <span id="id1">[<a class="reference internal" href="#id8" title="Porter Scobey and Pawan Lingras. Web programming and Internet technologies : an E-commerce approach. Jones &amp; Bartlett Learning, 2017.">SL17</a>]</span>. Nous sommes tous connectés !</p>
<p>Le Web est certainement le système de collaboraton le plus connu et le plus utilisé à travers Internet, sinon les échanges via Internet se font par principe via les <a class="reference internal" href="#socks"><span class="std std-ref"><strong>sockets</strong></span></a>.</p>
</section>
<section id="revenons-plus-en-detail-sur-l-architecture-client-serveur">
<h2>Revenons plus en détail sur l’architecture Client/Serveur<a class="headerlink" href="#revenons-plus-en-detail-sur-l-architecture-client-serveur" title="Permalink to this headline">#</a></h2>
<p>L’architecture client-serveur est une approche (parmi tant d’autres) de communication entre deux applications logicielles qui résident généralement (mais pas toujours) sur des machines physiquement distinctes.</p>
<p>La <a class="reference internal" href="#arch-client-serveur"><span class="std std-numref">Figure 1</span></a> présente un modèle d’architecture client-serveur (<a class="reference external" href="https://info.blaisepascal.fr/nsi-sockets-python">Source</a>). Cette figure montre 3 clients A, B et C en communicaton (via des requêtes et réponses) avec un (le même) serveur. Le serveur est représenté comme une unité centrale, car c’est la partie calcul du serveur qui nous intéresse plutôt que l’affichage.</p>
<figure class="align-default" id="arch-client-serveur">
<img alt="_images/arch-clientserveur.png" src="_images/arch-clientserveur.png" />
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">Un modèle d’architecture client-serveur.</span><a class="headerlink" href="#arch-client-serveur" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>En général, une infinité de clients peuvent potentiellement se connecter au même serveur, et le serveur doit, de façon constante et cohérente, répondre à chaque requête. Il faut donc 2 types d’application pour entretenir cette communication :</p>
<ul class="simple">
<li><p>L’application côté serveur, ou simplement application “<strong>serveur</strong>” : qui attend (ou <em>écoute</em>) les requêtes client.</p></li>
<li><p>Les applications côté client, ou simplement applications “<strong>clients</strong>” : qui se connectent au serveur (le navigateur Web, Skype, WhatsApp, Outlook sont des exemples de clients).</p></li>
</ul>
<p>Pour que le serveur reconnaisse précisément que tel client a envoyé telle requête, il lui faut avoir une information unique au client. De même pour que le client sache précisément quel serveur lui a envoyé une réponse donnée, il lui faut avoir une information unique au serveur. Cette information est appelée une <strong>adresse IP</strong> (ou <strong>nom d’hôte</strong> ou <strong>host name</strong>, en anglais), qui identifie une machine sur un réseau, qu’il soit local ou internet. Toute machine connectée à un réseau a donc un nom unique. Par exemple, aujourd’hui 01 octobre 2022, le serveur servant la page <code class="docutils literal notranslate"><span class="pre">google.ci</span></code> (son nom d’hôte) a comme adresse IP : <code class="docutils literal notranslate"><span class="pre">142.250.201.163</span></code>. Vous conviendrez avec moi que le nom d’hôte est plus facile à retenir que l’adresse IP :smiley: .</p>
<p>Toutefois, cette seule information n’est pas suffisante pour permettre une communication cohérente. Pourquoi ? Vous souvenez qu’on a mis <em><strong>clients</strong></em> au pluriel ? On veut dire que sur une même machine peut résider plusieurs clients. N’avez-vous pas sur votre PC plusieurs navigateurs (Google Chome, Mozilla Firefox, Microsoft Edge, Apple Safari, …), une application de messagerie (telle que Outlook), des applications de discussion instantanée (telle que Skype ou Signal) ? Toutes ces applications sont des clients. Aussi, l’adresse IP ne suffit pas pour identifier une application spécifique. Pour ce faire, on a recours à la notion de <strong>numéro de port</strong> (ou simplement <strong>port</strong>). L’application serveur à un port sur la machine-serveur. Chaque application-client a un port sur la machine-client. Le couple <code class="docutils literal notranslate"><span class="pre">(adresse,</span> <span class="pre">port)</span></code> représente un <strong>socket</strong> (Voir <a class="reference internal" href="#fig-socket"><span class="std std-numref">Figure 2</span></a>).</p>
<figure class="align-default" id="fig-socket">
<img alt="_images/fig-socket.png" src="_images/fig-socket.png" />
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">Un modèle de communication client-serveur via les sockets.</span><a class="headerlink" href="#fig-socket" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Afin d’uniformiser la communication via internet, certains protocoles ont été développés, notamment les protocoles de la pile TCP/IP. Ces protocoles fixent des numéros de port pour certains types de services (qui peuvent eux-mêmes être réglementés par des protocoles). Par exemple :</p>
<ul class="simple">
<li><p>Le port <code class="docutils literal notranslate"><span class="pre">80</span></code> est dédié au protocole HTTP (non sécurisé) et le port <code class="docutils literal notranslate"><span class="pre">443</span></code> est dédié au protocole HTTPS (la version sécurisée de HTTP).</p></li>
<li><p>Le port <code class="docutils literal notranslate"><span class="pre">23</span></code> est dédié au service telnet.</p></li>
<li><p>Le port <code class="docutils literal notranslate"><span class="pre">21</span></code> est dédié au protocole FTP d’échange de fichiers.</p></li>
<li><p>Le port <code class="docutils literal notranslate"><span class="pre">22</span></code> est dédié au service de connexion Shell sécurisée.</p></li>
</ul>
</section>
<section id="les-sockets-python">
<span id="socks"></span><h2>Les sockets Python<a class="headerlink" href="#les-sockets-python" title="Permalink to this headline">#</a></h2>
<p>Un socket est un point de terminaison d’un canal de communication bidirectionnel entre le serveur et le client. Dans cette section, nous apprenons à développer une petite application client-serveur, dont les différentes étapes sont les suivantes :</p>
<ol class="simple">
<li><p>Le serveur s’exécute et attend une connexion.</p></li>
<li><p>Le client initie la communication, et envoie une requête.</p></li>
<li><p>Le serveur répond précisément aux requêtes reçues.</p></li>
<li><p>Le client termine si l’utilisateur entre “Au revoir” comme requête. Le serveur s’arrête également (facultatif).</p></li>
</ol>
<section id="le-programme-serveur">
<h3>Le programme serveur<a class="headerlink" href="#le-programme-serveur" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">socket</span>

<span class="k">def</span> <span class="nf">server_app</span><span class="p">():</span>
    <span class="n">host</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()</span>  <span class="c1"># Obtenir le nom d&#39;hôte de la machine serveur</span>
    <span class="n">port</span> <span class="o">=</span> <span class="mi">8000</span>  <span class="c1"># Brancher le serveur à un port supérieur à 1024</span>
    
    <span class="n">serv_socket</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">()</span>  <span class="c1"># Créer un objet `socket&#39;</span>
    <span class="n">serv_socket</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span> <span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span> <span class="p">)</span>  <span class="c1"># Associer l&#39;objet au socket</span>
    
    <span class="n">serv_socket</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Spécifier le nombre de requêtes simultanées que le serveur peut traiter</span>
    <span class="n">conn</span><span class="p">,</span> <span class="n">address</span> <span class="o">=</span> <span class="n">serv_socket</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>  <span class="c1"># Le serveur est prêt à accepter une connexion</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;#### Aide :&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Pour arrêter le serveur, appuyer la touche Entrée sans saisir de texte, ou entrer &quot;Au revoir&quot; sans les guillemets.&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;####</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Connexion depuis l</span><span class="se">\&#39;</span><span class="s1">adresse : </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">address</span><span class="p">))</span>
    
    <span class="c1"># Lancer la boucle de traitement des requêtes</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">req</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>  <span class="c1"># Requête limitée à 1024 octets</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="c1"># Si aucune donnée, arrêter le serveur</span>
            <span class="k">break</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Données reçues de l&#39;utilisateur connecté : </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39; &gt;&gt; &#39;</span><span class="p">)</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span> <span class="c1"># Envoyer une réponse au client</span>
    
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Fermer la connexion à l&#39;arrêt de la boucle de traitement.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">if __name__ == &#39;__main__&#39;:</span>
<span class="sd">    server_app()</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;\nif __name__ == &#39;__main__&#39;:\n    server_app()\n&quot;
</pre></div>
</div>
</div>
</div>
</section>
<section id="le-programme-client">
<h3>Le programme client<a class="headerlink" href="#le-programme-client" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">socket</span>


<span class="k">def</span> <span class="nf">client_app</span><span class="p">():</span>
    <span class="n">host</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()</span>  <span class="c1"># Puisque le serveur et le client logent sur la même machine</span>
    <span class="n">port</span> <span class="o">=</span> <span class="mi">8000</span>  <span class="c1"># Port auquel est connecté le serveur</span>

    <span class="n">client_socket</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">()</span>  <span class="c1"># Création du socket client</span>
    <span class="n">client_socket</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>  <span class="c1"># connexion au serveur</span>

    <span class="n">message</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot; -&gt; &quot;</span><span class="p">)</span>

    <span class="k">while</span> <span class="n">message</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;au revoir&#39;</span><span class="p">:</span>
        <span class="n">client_socket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>  <span class="c1"># Envoyer un message</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">client_socket</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>  <span class="c1"># Recevoir une réponse</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Données envoyées par le serveur </span><span class="si">{0}</span><span class="s1">: &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">))</span> 

        <span class="n">message</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot; -&gt; &quot;</span><span class="p">)</span>

    <span class="n">client_socket</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">if __name__ == &#39;__main__&#39;:</span>
<span class="sd">    client_app()</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;\nif __name__ == &#39;__main__&#39;:\n    client_app()\n&quot;
</pre></div>
</div>
</div>
</div>
<div class="docutils container" id="id2">
<dl class="citation">
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="#id1">SL17</a></span></dt>
<dd><p>Porter Scobey and Pawan Lingras. <em>Web programming and Internet technologies : an E-commerce approach</em>. Jones &amp; Bartlett Learning, 2017.</p>
</dd>
</dl>
</div>
</section>
</section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='right-next' id="next-link" href="html-css.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Introduction au développement front-end avec HTML &amp; CSS</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Arnold N'GORAN, PhD<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>